---
title: 浅析 URL
date: 2020-02-23T22:17:24+08:00
lastmod: 2020-02-23T22:17:24+08:00
author: spc
cover: /img/food5.jpg
categories: ["html"]
tags: ["URL"]
# showcase: true
draft: false
---

URL是什么，它由什么组成

<!--more-->
1990 年英国计算机科学家蒂姆·伯纳斯-李（Tim Berners-Lee）发明了万维网，并解决了其中三项关键技术： URL + HTML + HTTP。  
本篇讲述其中的一项，全球网络资源唯一认证的系统：URL 的基本知识。

# URL

1. 传送协议：后接层级 URL 标记符号 // ，可省略 —> // 开头的无协议地址  
2. 服务器域名：也可以是 IP 地址，前者会被 DNS 解析 
3. 端口号：以数字形式表示，若为默认值可省略  
4. 路径：以 / 字符区别路径中 每一个目录名称，通过路径可以访问服务器的不同页面
5. 查询字符串：以 ? 为起点，用 = 划分参数名与数据，每个参数以 & 隔开，查询参数实现了对同个页面不同内容的访问 
6. 锚点：以 # 为起点，用于跳转到该页面的某个位置，锚点只和本地的游览器有关，其参数不会在请求头中传给服务器 

![url组成](/posts/img/url.png)

## http/https
简单来说一个安全https，一个不安全http
* http 是无状态


## IP 与 DNS域名系统

* 一个域名 —— 多IP ：负载均衡，防止一台主机扛不住
* 一个IP —— 多域名 ：共享主机，很懂得 利(穷) 用(开) 资(发) 源(者)
1. IP 和端口的作用
**IP（Internet Protocal）**是定位互联网中一台设备的协议，它规定了如何封装数据报文，以跟互联网中的其他设备交流。只要你在互联网中，你就至少有一个独特的 IP。  
**端口（Port）**是用来定位互联网中一台设备中的不同服务的。
2. 内网与外网
   1. 外网: Internet —— 路由器
   2. 内网：路由器 —— 家里网络
外网和内网之间使用路由器进行中转（网关）。

### 外网 IP
当我们租用电信宽带，安装猫和路由器后，便拥有了自己的外网 IP（由运营商分配）。需要注意的是，你的所有设备都共享一个外网 IP；如果重启路由器，外网 IP 将会被重新分配。  
可以通过 ipconfig 或访问 IP 138.com 来查看自己的外网 IP。  

### 内网 IP
内网 IP 一般以 192.168.x.x 形式出现，内网中的设备可以互相访问，但想访问外网需要通过路由器中转；同样地，外网设备要把数据内容送到内网也必须通过路由器。  
路由器可以说是内网和外网这两个隔绝空间之间的唯一连通点，故也被称为网关。  
### 几个特殊的 IP
localhost = 127.0.0.1 
0.0.0.0 不表示任何设备

### DNS Domain Name System 将域名和 IP 连接起来
通常我们在游览器中输入的是服务器的域名而不是 IP 地址，此时 chrome 游览器会向电信 / 联通提供的 DNS 服务器询问域名对应的 IP 地址。  
然后 chrome 游览器会向对应的 IP 的 80 / 443 端口发送请求。  
服务器返回响应体，被游览器解析成丰富多彩的网页内容。  
可以通过 nslookup baidu.com 向 DNS 询问域名对应的 IP 地址。  
一个域名可以对应不同的 IP，实现均衡负载；一个 IP 也可以对应不同的域名，叫共享主机，即和别的公司共用服务器。  
可以通过 curl -v http://www.baidu.com 发送 HTTP 请求。  
### 域名的级别
.com 为顶级域名，xiedaimala.com 为二级域名，每一级的域名控制它下一级域名的分配。  
顶级域名有国家顶级域名：cn、us、jp 等，和国际顶级域名：.com（工商企业）、.net（网络提供商）、.org（非盈利组织） 等。  
三级域名是二级域名的子域名，是二级域名的附属物而无需单独付费。  
不加 www 的裸域名也可以正常运作，且更加简短、容易记忆。  


## 端口
1. 端口的约定
当数据内容通过外网及内网 IP 唯一定位到用户设备后，需要通过端口传输给指定的服务。常用的服务有：端口列表  

* HTTP 服务：80 端口
* HTTPS 服务：443 端口
* FTP 服务：21 端口
关于端口有几个约定：

一共有 65535 个端口可供使用，0~1023 号端口是留给系统使用的。  
只有拥有管理员权限后，才能使用这 1024 个端口；其他端口是给普通用户使用的，比如 http-server 默认使用 8080 端口。  





